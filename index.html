<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tudor Optics - لعبة فرقعة البالونات</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f2f2f2;
            padding-top: 50px;
        }

        h1 {
            font-size: 36px;
            color: #333;
        }

        #balloons {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .balloon {
            width: 80px;
            height: 120px;
            border-radius: 50%;
            background-color: #f39c12;
            margin: 10px;
            cursor: pointer;
            position: relative;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }

        .balloon:hover {
            background-color: #f1c40f;
        }

        #timer {
            font-size: 24px;
            margin-top: 20px;
        }

        #attempts {
            font-size: 24px;
            margin-top: 10px;
        }

        #result {
            font-size: 24px;
            margin-top: 20px;
            color: #333;
        }

        #resetButton {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
            margin-top: 20px;
            border-radius: 5px;
        }

        #resetButton:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

    <h1>Tudor Optics</h1>
    <p>فرقعة البالونات للحصول على خصم</p>
    
    <div id="balloons"></div>
    <div id="timer"></div>
    <div id="attempts"></div>
    <div id="result"></div>
    
    <button id="resetButton" style="display: none;" onclick="resetGame()">إعادة تشغيل اللعبة</button>

    <script>
        const balloonsContainer = document.getElementById('balloons');
        const timerElement = document.getElementById('timer');
        const attemptsElement = document.getElementById('attempts');
        const resultElement = document.getElementById('result');
        const resetButton = document.getElementById('resetButton');
        
        let attempts = 2;
        let timeLeft = 10;
        let gameInterval;
        let timerInterval;

        // إنشاء بالونات عشوائية
        function createBalloons() {
            const numberOfBalloons = 6;
            balloonsContainer.innerHTML = '';
            for (let i = 0; i < numberOfBalloons; i++) {
                const balloon = document.createElement('div');
                balloon.classList.add('balloon');
                balloon.setAttribute('data-discount', getRandomDiscount() + '%');
                balloon.addEventListener('click', popBalloon);
                balloonsContainer.appendChild(balloon);
            }
        }

        // الحصول على خصم عشوائي بين 10% و 30%
        function getRandomDiscount() {
            return Math.floor(Math.random() * 21) + 10; // من 10% إلى 30%
        }

        // وظيفة فرقعة البالون
        function popBalloon(event) {
            if (attempts <= 0) return;

            const balloon = event.target;
            const discount = balloon.getAttribute('data-discount');
            balloon.style.backgroundColor = 'gray';
            balloon.style.pointerEvents = 'none'; // عدم القدرة على الضغط على البالون بعد فرقعته

            resultElement.innerText = لقد حصلت على خصم: ${discount};
            attempts--;
            attemptsElement.innerText = المحاولات المتبقية: ${attempts};

            if (attempts <= 0) {
                clearInterval(timerInterval);
                timerElement.innerText = "انتهى الوقت!";
                resetButton.style.display = 'inline-block';
            }
        }

        // بداية اللعبة
        function startGame() {
            attempts = 2;
            timeLeft = 10;
            attemptsElement.innerText = المحاولات المتبقية: ${attempts};
            resultElement.innerText = '';
            timerElement.innerText = الوقت المتبقي: ${timeLeft} ثواني;

            createBalloons();

            // عد تنازلي للوقت
            timerInterval = setInterval(function() {
                timeLeft--;
                timerElement.innerText = الوقت المتبقي: ${timeLeft} ثواني;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerElement.innerText = "انتهى الوقت!";
                    resetButton.style.display = 'inline-block';
                }
            }, 1000);
        }

        // إعادة تشغيل اللعبة
        function resetGame() {
            resetButton.style.display = 'none';
            startGame();
        }

        // بدء اللعبة عند تحميل الصفحة
        startGame();
    </script>

</body>
</html>
